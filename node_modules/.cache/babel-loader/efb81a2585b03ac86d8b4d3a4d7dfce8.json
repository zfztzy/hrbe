{"remainingRequest":"/Users/macbookpro/Documents/hr-manage/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!/Users/macbookpro/Documents/hr-manage/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!/Users/macbookpro/Documents/hr-manage/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!/Users/macbookpro/Documents/hr-manage/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!/Users/macbookpro/Documents/hr-manage/src/components/batchControl/BatchOutput.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macbookpro/Documents/hr-manage/src/components/batchControl/BatchOutput.vue","mtime":1648882808981},{"path":"/Users/macbookpro/Documents/hr-manage/babel.config.js","mtime":1609225489041},{"path":"/Users/macbookpro/Documents/hr-manage/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbookpro/Documents/hr-manage/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbookpro/Documents/hr-manage/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macbookpro/Documents/hr-manage/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbookpro/Documents/hr-manage/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0ICogYXMgcmVxdWVzdCBmcm9tICIuLi8uLi9uZXR3b3JrL3JlcXVlc3QiOyAvLyBpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnCi8vIGltcG9ydCByZXF3ZXN0IGZyb20gJ3JlcXdlc3QnOwoKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBiYXRjaFR5cGU6IHsKICAgICAgdHlwZTogU3RyaW5nCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmlsZUxpc3Q6IFtdLAogICAgICBiYXRjaFR5cGVOYW1lOiAnJwogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEZpbGVMaXN0OiBmdW5jdGlvbiBnZXRGaWxlTGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKHRoaXMpOwogICAgICByZXF1ZXN0LnJlcXVlc3QoewogICAgICAgIHVybDogJ2h0dHA6Ly8xMzkuOS4xNjAuMjQvZ2V0X2ZpbGVfbGlzdC8nLAogICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgIGRhdGE6IHsKICAgICAgICAgIGJhdGNoVHlwZTogdGhpcy5iYXRjaFR5cGUKICAgICAgICB9LAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICJDb250ZW50LVR5cGUiOiAibXVsdGlwYXJ0L2Zvcm0tZGF0YSIKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLmZpbGVMaXN0ID0gcmVzLmRhdGEuZmlsZUxpc3Q7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICBuZXdEb3dubG9hZEV4Y2VsOiBmdW5jdGlvbiBuZXdEb3dubG9hZEV4Y2VsKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKHRoaXMpOwogICAgICByZXF1ZXN0LnJlcXVlc3QoewogICAgICAgIHVybDogJ2h0dHA6Ly8xMzkuOS4xNjAuMjQvbmV3X2Rvd25sb2FkX2V4Y2VsLycsCiAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgZGF0YTogewogICAgICAgICAgYmF0Y2hUeXBlOiB0aGlzLmJhdGNoVHlwZQogICAgICAgIH0sCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJtdWx0aXBhcnQvZm9ybS1kYXRhIgogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLmZpbGVMaXN0LnVuc2hpZnQocmVzLmRhdGEuZmlsZUluZm8pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgfSk7CiAgICB9LAogICAgZG93bkxvYWQ6IGZ1bmN0aW9uIGRvd25Mb2FkKGluZGV4LCByb3dzKSB7CiAgICAgIHdpbmRvdy5vcGVuKHRoaXMuYmFzZVVybCArIHJvd3NbaW5kZXhdLnBhdGgpOwogICAgfSwKICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgdGhpcy4kZW1pdCgnY2xvc2UnKTsKICAgIH0sCiAgICBoYW5kbGVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUNoYW5nZSh2YWx1ZSkgewogICAgICBpZiAodmFsdWUgPT09ICdBcHBsaWNhbnRJbmZvJykgewogICAgICAgIHRoaXMuYmF0Y2hUeXBlTmFtZSA9ICflgJnpgInkuronOwogICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnUHJvamVjdEluZm8nKSB7CiAgICAgICAgdGhpcy5iYXRjaFR5cGVOYW1lID0gJ+mhueebruS/oeaBryc7CiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09ICdQcm9qZWN0U3RhdHVzSW5mbycpIHsKICAgICAgICB0aGlzLmJhdGNoVHlwZU5hbWUgPSAn6aG555uu5ruh6Laz5bqmJzsKICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJ1JlY3J1aXRtZW50SW5mbycpIHsKICAgICAgICB0aGlzLmJhdGNoVHlwZU5hbWUgPSAn5oub6IGY6ZyA5rGCJzsKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuYmFzZVVybCA9IHRoaXMuZ2V0QmFzZVVybCgpOwogICAgdGhpcy5nZXRGaWxlTGlzdCgpOwogICAgdGhpcy5oYW5kbGVDaGFuZ2UodGhpcy5iYXRjaFR5cGUpOwogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA,iD,CACA;AACA;;AACA;AACAA;AACAC;AACAC;AADA;AADA,GADA;AAMAC,MANA,kBAMA;AACA;AACAC,kBADA;AAEAC;AAFA;AAIA,GAXA;AAYAC;AACAC,eADA,yBACA;AAAA;;AACAC;AACAC;AACAC,iDADA;AAEAC,sBAFA;AAGAR;AAAAF;AAAA,SAHA;AAIAW;AAAA;AAAA;AAJA,SAKAC,IALA,CAKA;AACA;AACA,OAPA,EAOAC,KAPA,CAOA;AACAN;AACA,OATA;AAUA,KAbA;AAcAO,oBAdA,8BAcA;AAAA;;AACAP;AACAC;AACAC,sDADA;AAEAC,sBAFA;AAGAR;AAAAF;AAAA,SAHA;AAIAW;AAAA;AAAA;AAJA,SAKAC,IALA,CAKA;AACA;AACA,OAPA,EAOAC,KAPA,CAOA;AACAN;AACA,OATA;AAUA,KA1BA;AA2BAQ,YA3BA,oBA2BAC,KA3BA,EA2BAC,IA3BA,EA2BA;AACAC;AACA,KA7BA;AA8BAC,SA9BA,mBA8BA;AACA;AACA,KAhCA;AAiCAC,gBAjCA,wBAiCAC,KAjCA,EAiCA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AA3CA,GAZA;AAyDAC,SAzDA,qBAyDA;AACA;AACA;AACA;AACA;AA7DA","names":["props","batchType","type","data","fileList","batchTypeName","methods","getFileList","console","request","url","method","headers","then","catch","newDownloadExcel","downLoad","index","rows","window","close","handleChange","value","created"],"sourceRoot":"src/components/batchControl","sources":["BatchOutput.vue"],"sourcesContent":["<template>\n  <div>\n    <h3 style=\"margin: 20px;\">{{batchTypeName}}-已生成导出文件</h3>\n    <el-table\n      :data=\"fileList\"\n      style=\"width: 80%\n      margin-top:10px;\n      margin-left:20px\"\n      max-height=\"270\">\n      <el-table-column\n        fixed\n        prop=\"name\"\n        label=\"文件名称\"\n        width='500px'>\n      </el-table-column>\n      <el-table-column\n        fixed\n        prop=\"msg\"\n        label=\"大小\"\n        width='300px'>\n      </el-table-column>\n      <el-table-column\n        fixed=\"right\"\n        label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button\n            @click.native.prevent=\"downLoad(scope.$index, fileList)\"\n            type=\"text\"\n            size=\"small\">\n            下载\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <a-button class=\"batchOutButtom\" @click=\"newDownloadExcel\">导出新文件</a-button>\n    <a-button class=\"batchOutCancel\" @click=\"close\">取消</a-button>\n  </div>\n</template>\n<script>\nimport * as request from \"../../network/request\"\n// import axios from 'axios'\n// import reqwest from 'reqwest';\nexport default {\n  props: {\n    batchType: {\n      type: String\n    }\n  },\n  data() {\n    return {\n      fileList: [],\n      batchTypeName: ''\n    };\n  },\n  methods: {\n    getFileList() {\n      console.log(this);\n      request.request({\n      url:'http://139.9.160.24/get_file_list/',\n      method: 'post',\n      data: {batchType: this.batchType},\n      headers: { \"Content-Type\": \"multipart/form-data\" }\n      }).then(res =>{\n        this.fileList = res.data.fileList\n      }).catch(err =>{\n        console.log(err);\n      })\n    },\n    newDownloadExcel() {\n      console.log(this);\n      request.request({\n      url:'http://139.9.160.24/new_download_excel/',\n      method: 'post',\n      data: {batchType: this.batchType},\n      headers: { \"Content-Type\": \"multipart/form-data\" }\n      }).then(res =>{\n        this.fileList.unshift(res.data.fileInfo)\n      }).catch(err =>{\n        console.log(err);\n      })\n    },\n    downLoad(index, rows) {\n      window.open(this.baseUrl + rows[index].path)\n    },\n    close() {\n     this.$emit('close')\n    },\n    handleChange(value) {\n      if (value === 'ApplicantInfo') {\n        this.batchTypeName = '候选人'\n      } else if (value === 'ProjectInfo') {  \n        this.batchTypeName = '项目信息'    \n      } else if (value === 'ProjectStatusInfo') {\n        this.batchTypeName = '项目满足度'      \n      } else if (value === 'RecruitmentInfo') {\n        this.batchTypeName = '招聘需求'      \n      }\n    },\n  },\n  created () {\n    this.baseUrl = this.getBaseUrl()\n    this.getFileList()\n    this.handleChange(this.batchType)\n  }\n};\n</script>\n\n<style>\n.batchOutButtom {\n  position: absolute;\n  bottom: 30px;\n  right: 170px;\n}\n\n.batchOutCancel {\n  position: absolute;\n  bottom: 30px;\n  right: 60px;\n}\n\n</style>"]}]}