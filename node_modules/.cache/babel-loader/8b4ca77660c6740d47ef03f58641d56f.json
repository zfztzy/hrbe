{"remainingRequest":"/Users/macbookpro/Documents/hr-manage/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!/Users/macbookpro/Documents/hr-manage/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!/Users/macbookpro/Documents/hr-manage/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!/Users/macbookpro/Documents/hr-manage/src/components/batchControl/BatchOutput.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macbookpro/Documents/hr-manage/src/components/batchControl/BatchOutput.vue","mtime":1653559126436},{"path":"/Users/macbookpro/Documents/hr-manage/babel.config.js","mtime":1609225489041},{"path":"/Users/macbookpro/Documents/hr-manage/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbookpro/Documents/hr-manage/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macbookpro/Documents/hr-manage/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbookpro/Documents/hr-manage/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0ICogYXMgcmVxdWVzdCBmcm9tICIuLi8uLi9uZXR3b3JrL3JlcXVlc3QiOyAvLyBpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnCi8vIGltcG9ydCByZXF3ZXN0IGZyb20gJ3JlcXdlc3QnOwoKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBiYXRjaFR5cGU6IHsKICAgICAgdHlwZTogU3RyaW5nCiAgICB9LAogICAgc2VsZWN0RGF0ZTogewogICAgICB0eXBlOiBTdHJpbmcKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmaWxlTGlzdDogW10sCiAgICAgIGJhdGNoVHlwZU5hbWU6ICcnCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0RmlsZUxpc3Q6IGZ1bmN0aW9uIGdldEZpbGVMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2codGhpcyk7CiAgICAgIHJlcXVlc3QucmVxdWVzdCh7CiAgICAgICAgdXJsOiB0aGlzLmdldEJhc2VVcmwoKSArICdnZXRfZmlsZV9saXN0LycsCiAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgZGF0YTogewogICAgICAgICAgYmF0Y2hUeXBlOiB0aGlzLmJhdGNoVHlwZSwKICAgICAgICAgIHVzZXJOYW1lOiB0aGlzLiRjb29raWVzLmdldCgibmlja25hbWUiKQogICAgICAgIH0sCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJtdWx0aXBhcnQvZm9ybS1kYXRhIgogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMuZmlsZUxpc3QgPSByZXMuZGF0YS5maWxlTGlzdDsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pOwogICAgfSwKICAgIG5ld0Rvd25sb2FkRXhjZWw6IGZ1bmN0aW9uIG5ld0Rvd25sb2FkRXhjZWwoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2codGhpcy5zZWxlY3REYXRlKTsKICAgICAgcmVxdWVzdC5yZXF1ZXN0KHsKICAgICAgICB1cmw6IHRoaXMuZ2V0QmFzZVVybCgpICsgJ25ld19kb3dubG9hZF9leGNlbC8nLAogICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgIGRhdGE6IHsKICAgICAgICAgIGJhdGNoVHlwZTogdGhpcy5iYXRjaFR5cGUsCiAgICAgICAgICBmaWx0ZXJSZWdpb246IHRoaXMuJGNvb2tpZXMuZ2V0KCJyZWdpb24iKSwKICAgICAgICAgIHNlbGVjdERhdGU6IHRoaXMuc2VsZWN0RGF0ZSwKICAgICAgICAgIHVzZXJOYW1lOiB0aGlzLiRjb29raWVzLmdldCgibmlja25hbWUiKQogICAgICAgIH0sCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJtdWx0aXBhcnQvZm9ybS1kYXRhIgogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLmZpbGVMaXN0LnVuc2hpZnQocmVzLmRhdGEuZmlsZUluZm8pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgfSk7CiAgICB9LAogICAgZG93bkxvYWQ6IGZ1bmN0aW9uIGRvd25Mb2FkKGluZGV4LCByb3dzKSB7CiAgICAgIHdpbmRvdy5vcGVuKHRoaXMuYmFzZVVybCArIHJvd3NbaW5kZXhdLnBhdGgpOwogICAgfSwKICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgdGhpcy4kZW1pdCgnY2xvc2UnKTsKICAgIH0sCiAgICBoYW5kbGVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUNoYW5nZSh2YWx1ZSkgewogICAgICBpZiAodmFsdWUgPT09ICdBcHBsaWNhbnRJbmZvJykgewogICAgICAgIHRoaXMuYmF0Y2hUeXBlTmFtZSA9ICflgJnpgInkuronOwogICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnUHJvamVjdEluZm8nKSB7CiAgICAgICAgdGhpcy5iYXRjaFR5cGVOYW1lID0gJ+mhueebruS/oeaBryc7CiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09ICdQcm9qZWN0U3RhdHVzSW5mbycpIHsKICAgICAgICB0aGlzLmJhdGNoVHlwZU5hbWUgPSAn6aG555uu5ruh6Laz5bqmJzsKICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJ1JlY3J1aXRtZW50SW5mbycpIHsKICAgICAgICB0aGlzLmJhdGNoVHlwZU5hbWUgPSAn5oub6IGY6ZyA5rGCJzsKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuYmFzZVVybCA9IHRoaXMuZ2V0QmFzZVVybCgpOwogICAgdGhpcy5nZXRGaWxlTGlzdCgpOwogICAgdGhpcy5oYW5kbGVDaGFuZ2UodGhpcy5iYXRjaFR5cGUpOwogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA,iD,CACA;AACA;;AACA;AACAA;AACAC;AACAC;AADA,KADA;AAIAC;AACAD;AADA;AAJA,GADA;AASAE,MATA,kBASA;AACA;AACAC,kBADA;AAEAC;AAFA;AAIA,GAdA;AAeAC;AACAC,eADA,yBACA;AAAA;;AACAC;AACAC;AACAC,iDADA;AAEAC,sBAFA;AAGAR;AACAH,mCADA;AAEAY;AAFA,SAHA;AAOAC;AAAA;AAAA;AAPA,SAQAC,IARA,CAQA;AACA;AACA,OAVA,EAUAC,KAVA,CAUA;AACAP;AACA,OAZA;AAaA,KAhBA;AAiBAQ,oBAjBA,8BAiBA;AAAA;;AACAR;AACAC;AACAC,sDADA;AAEAC,sBAFA;AAGAR;AACAH,mCADA;AAEAiB,mDAFA;AAGAf,qCAHA;AAIAU;AAJA,SAHA;AASAC;AAAA;AAAA;AATA,SAUAC,IAVA,CAUA;AACA;AACA,OAZA,EAYAC,KAZA,CAYA;AACAP;AACA,OAdA;AAeA,KAlCA;AAmCAU,YAnCA,oBAmCAC,KAnCA,EAmCAC,IAnCA,EAmCA;AACAC;AACA,KArCA;AAsCAC,SAtCA,mBAsCA;AACA;AACA,KAxCA;AAyCAC,gBAzCA,wBAyCAC,KAzCA,EAyCA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AAnDA,GAfA;AAoEAC,SApEA,qBAoEA;AACA;AACA;AACA;AACA;AAxEA","names":["props","batchType","type","selectDate","data","fileList","batchTypeName","methods","getFileList","console","request","url","method","userName","headers","then","catch","newDownloadExcel","filterRegion","downLoad","index","rows","window","close","handleChange","value","created"],"sourceRoot":"src/components/batchControl","sources":["BatchOutput.vue"],"sourcesContent":["<template>\n  <div>\n    <h3 style=\"margin: 20px;\">{{batchTypeName}}-已生成导出文件</h3>\n    <el-table\n      :data=\"fileList\"\n      style=\"width: 80%\n      margin-top:10px;\n      margin-left:20px\"\n      max-height=\"270\">\n      <el-table-column\n        fixed\n        prop=\"name\"\n        label=\"文件名称\"\n        width='500px'>\n      </el-table-column>\n      <el-table-column\n        fixed\n        prop=\"msg\"\n        label=\"大小\"\n        width='300px'>\n      </el-table-column>\n      <el-table-column\n        fixed=\"right\"\n        label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button\n            @click.native.prevent=\"downLoad(scope.$index, fileList)\"\n            type=\"text\"\n            size=\"small\">\n            下载\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <a-button class=\"batchOutButtom\" @click=\"newDownloadExcel\">导出新文件</a-button>\n    <a-button class=\"batchOutCancel\" @click=\"close\">取消</a-button>\n  </div>\n</template>\n<script>\nimport * as request from \"../../network/request\"\n// import axios from 'axios'\n// import reqwest from 'reqwest';\nexport default {\n  props: {\n    batchType: {\n      type: String\n    },\n    selectDate: {\n      type: String\n    }\n  },\n  data() {\n    return {\n      fileList: [],\n      batchTypeName: ''\n    };\n  },\n  methods: {\n    getFileList() {\n      console.log(this);\n      request.request({\n      url: this.getBaseUrl() + 'get_file_list/',\n      method: 'post',\n      data: {\n        batchType: this.batchType,\n        userName: this.$cookies.get(\"nickname\")\n      },\n      headers: { \"Content-Type\": \"multipart/form-data\" }\n      }).then(res =>{\n        this.fileList = res.data.fileList\n      }).catch(err =>{\n        console.log(err);\n      })\n    },\n    newDownloadExcel() {\n      console.log(this.selectDate);\n      request.request({\n      url: this.getBaseUrl() + 'new_download_excel/',\n      method: 'post',\n      data: {\n        batchType: this.batchType,\n        filterRegion: this.$cookies.get(\"region\"),\n        selectDate: this.selectDate,\n        userName: this.$cookies.get(\"nickname\")\n      },\n      headers: { \"Content-Type\": \"multipart/form-data\" }\n      }).then(res =>{\n        this.fileList.unshift(res.data.fileInfo)\n      }).catch(err =>{\n        console.log(err);\n      })\n    },\n    downLoad(index, rows) {\n      window.open(this.baseUrl + rows[index].path)\n    },\n    close() {\n     this.$emit('close')\n    },\n    handleChange(value) {\n      if (value === 'ApplicantInfo') {\n        this.batchTypeName = '候选人'\n      } else if (value === 'ProjectInfo') {  \n        this.batchTypeName = '项目信息'    \n      } else if (value === 'ProjectStatusInfo') {\n        this.batchTypeName = '项目满足度'      \n      } else if (value === 'RecruitmentInfo') {\n        this.batchTypeName = '招聘需求'      \n      }\n    },\n  },\n  created () {\n    this.baseUrl = this.getBaseUrl()\n    this.getFileList()\n    this.handleChange(this.batchType)\n  }\n};\n</script>\n\n<style>\n.batchOutButtom {\n  position: absolute;\n  bottom: 30px;\n  right: 170px;\n}\n\n.batchOutCancel {\n  position: absolute;\n  bottom: 30px;\n  right: 60px;\n}\n\n</style>"]}]}