{"remainingRequest":"/Users/macbookpro/Documents/hr-manage/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!/Users/macbookpro/Documents/hr-manage/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!/Users/macbookpro/Documents/hr-manage/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!/Users/macbookpro/Documents/hr-manage/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!/Users/macbookpro/Documents/hr-manage/src/components/batchControl/BatchInput.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macbookpro/Documents/hr-manage/src/components/batchControl/BatchInput.vue","mtime":1648482901758},{"path":"/Users/macbookpro/Documents/hr-manage/babel.config.js","mtime":1609225489041},{"path":"/Users/macbookpro/Documents/hr-manage/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbookpro/Documents/hr-manage/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbookpro/Documents/hr-manage/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macbookpro/Documents/hr-manage/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbookpro/Documents/hr-manage/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvbWFjYm9va3Byby9Eb2N1bWVudHMvaHItbWFuYWdlL25vZGVfbW9kdWxlcy9fQGJhYmVsX3J1bnRpbWVANy4xNy4yQEBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgKiBhcyByZXF1ZXN0IGZyb20gIi4uLy4uL25ldHdvcmsvcmVxdWVzdCI7IC8vIGltcG9ydCBheGlvcyBmcm9tICdheGlvcycKLy8gaW1wb3J0IHJlcXdlc3QgZnJvbSAncmVxd2VzdCc7CgpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIGJhdGNoVHlwZTogewogICAgICB0eXBlOiBTdHJpbmcKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmaWxlTGlzdDogW10sCiAgICAgIHVwbG9hZGluZzogZmFsc2UsCiAgICAgIGV4Y2VsVHlwZTogJ0FwcGxpY2FudEluZm8nLAogICAgICBmaWxlTmFtZTogJycsCiAgICAgIGZpbGVQYXRoOiAnaHR0cDovLzEzOS45LjE2MC4yNC9zdGF0aWMvbW9kZWwvJywKICAgICAgaXNEaXNhYmxlZDogdHJ1ZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKHZhbHVlKSB7CiAgICAgIHRoaXMuaXNEaXNhYmxlZCA9IGZhbHNlOwogICAgICB0aGlzLmV4Y2VsVHlwZSA9ICIiLmNvbmNhdCh2YWx1ZSk7CgogICAgICBpZiAodmFsdWUgPT09ICdBcHBsaWNhbnRJbmZvJykgewogICAgICAgIHRoaXMuZmlsZU5hbWUgPSAn5YCZ6YCJ5Lq65qih54mILnhsc3gnOwogICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnUHJvamVjdEluZm8nKSB7CiAgICAgICAgdGhpcy5maWxlTmFtZSA9ICfpobnnm67kv6Hmga/mqKHniYgueGxzeCc7CiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09ICdQcm9qZWN0U3RhdHVzSW5mbycpIHsKICAgICAgICB0aGlzLmZpbGVOYW1lID0gJ+mhueebrua7oei2s+W6puaooeeJiC54bHN4JzsKICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJ1JlY3J1aXRtZW50SW5mbycpIHsKICAgICAgICB0aGlzLmZpbGVOYW1lID0gJ+aLm+iBmOmcgOaxguaooeeJiC54bHN4JzsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZVJlbW92ZTogZnVuY3Rpb24gaGFuZGxlUmVtb3ZlKGZpbGUpIHsKICAgICAgdmFyIGluZGV4ID0gdGhpcy5maWxlTGlzdC5pbmRleE9mKGZpbGUpOwogICAgICB2YXIgbmV3RmlsZUxpc3QgPSB0aGlzLmZpbGVMaXN0LnNsaWNlKCk7CiAgICAgIG5ld0ZpbGVMaXN0LnNwbGljZShpbmRleCwgMSk7CiAgICAgIHRoaXMuZmlsZUxpc3QgPSBuZXdGaWxlTGlzdDsKICAgIH0sCiAgICBiZWZvcmVVcGxvYWQ6IGZ1bmN0aW9uIGJlZm9yZVVwbG9hZChmaWxlKSB7CiAgICAgIHRoaXMuZmlsZUxpc3QgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuZmlsZUxpc3QpLCBbZmlsZV0pOwogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogICAgaGFuZGxlVXBsb2FkOiBmdW5jdGlvbiBoYW5kbGVVcGxvYWQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZyh0aGlzKTsgLy8gY29uc3QgeyBmaWxlTGlzdCB9ID0gdGhpczsKCiAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCB0aGlzLmZpbGVMaXN0WzBdKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCd0eXBlJywgdGhpcy5leGNlbFR5cGUpOwogICAgICB0aGlzLnVwbG9hZGluZyA9IHRydWU7CiAgICAgIHZhciBjb25maWcgPSB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJtdWx0aXBhcnQvZm9ybS1kYXRhIgogICAgICAgIH0KICAgICAgfTsKICAgICAgY29uc29sZS5sb2coY29uZmlnKTsgLy8gYXhpb3MucG9zdCgiaHR0cDovLzEzOS45LjE2MC4yNC9zYXZlX2V4Y2VsLyIsIGZvcm1EYXRhLCBjb25maWcpOwoKICAgICAgcmVxdWVzdC5yZXF1ZXN0KHsKICAgICAgICB1cmw6ICdodHRwOi8vMTM5LjkuMTYwLjI0L3NhdmVfZXhjZWwvJywKICAgICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgICBkYXRhOiBmb3JtRGF0YSwKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAiQ29udGVudC1UeXBlIjogIm11bHRpcGFydC9mb3JtLWRhdGEiCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIGFsZXJ0KHJlcy5kYXRhLm1zZyk7CiAgICAgICAgX3RoaXMudXBsb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICBkb3dubG9hZE1vZGVsOiBmdW5jdGlvbiBkb3dubG9hZE1vZGVsKCkgewogICAgICB3aW5kb3cub3Blbih0aGlzLmZpbGVQYXRoICsgdGhpcy5maWxlTmFtZSk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5oYW5kbGVDaGFuZ2UodGhpcy5iYXRjaFR5cGUpOwogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA,iD,CACA;AACA;;AACA;AACAA;AACAC;AACAC;AADA;AADA,GADA;AAMAC,MANA,kBAMA;AACA;AACAC,kBADA;AAEAC,sBAFA;AAGAC,gCAHA;AAIAC,kBAJA;AAKAC,mDALA;AAMAC;AANA;AAQA,GAfA;AAgBAC;AACAC,gBADA,wBACAC,KADA,EACA;AACA;AACA;;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAbA;AAcAC,gBAdA,wBAcAC,IAdA,EAcA;AACA;AACA;AACAC;AACA;AACA,KAnBA;AAoBAC,gBApBA,wBAoBAF,IApBA,EAoBA;AACA;AACA;AACA,KAvBA;AAwBAG,gBAxBA,0BAwBA;AAAA;;AACAC,wBADA,CAEA;;AACA;AACAC;AACAA;AACA;AACA;AACAC;AAAA;AAAA;AADA;AAGAF,0BAVA,CAWA;;AACAG;AACAC,8CADA;AAEAC,sBAFA;AAGApB,sBAHA;AAIAiB;AAAA;AAAA;AAJA,SAKAI,IALA,CAKA;AACAN;AACAO;AACA;AACA,OATA,EASAC,KATA,CASA;AACAR;AACA,OAXA;AAYA,KAhDA;AAiDAS,iBAjDA,2BAiDA;AACAC;AACA;AAnDA,GAhBA;AAqEAC,SArEA,qBAqEA;AACA;AACA;AAvEA","names":["props","batchType","type","data","fileList","uploading","excelType","fileName","filePath","isDisabled","methods","handleChange","value","handleRemove","file","newFileList","beforeUpload","handleUpload","console","formData","headers","request","url","method","then","alert","catch","downloadModel","window","created"],"sourceRoot":"src/components/batchControl","sources":["BatchInput.vue"],"sourcesContent":["<template>\n  <div class=\"clearfix\">\n    <h2 class=\"typeChoiceTitle\">批量导入</h2>\n     <a-select placeholder=\"选择导入表格类型\" style=\"width: 400px\" @change=\"handleChange\" :defaultValue=\"batchType\" class=\"typeChoice\">\n      <a-select-option value=\"ApplicantInfo\">\n        候选人管理\n      </a-select-option>\n      <a-select-option value=\"ProjectInfo\">\n        项目信息\n      </a-select-option>\n      <a-select-option value=\"ProjectStatusInfo\">\n        项目满足度\n      </a-select-option>\n      <a-select-option value=\"RecruitmentInfo\">\n        招聘需求\n      </a-select-option>\n    </a-select>\n    <div class=\"fileDownload\">\n      <p v-if=\"isDisabled\" style=\"color:red;\">请选择下载模版</p>\n      <a-button :disabled=\"isDisabled\" @click=\"downloadModel\">下载{{fileName}}</a-button>\n    </div>\n    <a-upload :fileList=\"fileList\" :remove=\"handleRemove\" :beforeUpload=\"beforeUpload\" class=\"fileChoice\">\n      <a-button> <a-icon type=\"upload\" /> 选择导入文件 </a-button>\n    </a-upload>\n    <a-button\n      type=\"primary\"\n      @click=\"handleUpload\"\n      :disabled=\"fileList.length === 0\"\n      :loading=\"uploading\"\n      style=\"\n        position: absolute;\n        bottom: 50px;\n        right: 50px;\"\n    >\n      {{ uploading ? 'Uploading' : 'Start Upload' }}\n    </a-button>\n  </div>\n</template>\n<script>\nimport * as request from \"../../network/request\"\n// import axios from 'axios'\n// import reqwest from 'reqwest';\nexport default {\n  props: {\n    batchType: {\n      type: String\n    }\n  },\n  data() {\n    return {\n      fileList: [],\n      uploading: false,\n      excelType: 'ApplicantInfo',\n      fileName: '',\n      filePath:'http://139.9.160.24/static/model/',\n      isDisabled: true\n    };\n  },\n  methods: {\n    handleChange(value) {\n      this.isDisabled = false\n      this.excelType = `${value}`;\n      if (value === 'ApplicantInfo') {\n        this.fileName = '候选人模版.xlsx'\n      } else if (value === 'ProjectInfo') {\n        this.fileName = '项目信息模版.xlsx'        \n      } else if (value === 'ProjectStatusInfo') {\n        this.fileName = '项目满足度模版.xlsx'        \n      } else if (value === 'RecruitmentInfo') {\n        this.fileName = '招聘需求模版.xlsx'        \n      }\n    },\n    handleRemove(file) {\n      const index = this.fileList.indexOf(file);\n      const newFileList = this.fileList.slice();\n      newFileList.splice(index, 1);\n      this.fileList = newFileList;\n    },\n    beforeUpload(file) {\n      this.fileList = [...this.fileList, file];\n      return false;\n    },\n    handleUpload() {\n      console.log(this);\n      // const { fileList } = this;\n      const formData = new FormData();\n      formData.append('file',this.fileList[0]);\n      formData.append('type',this.excelType);\n      this.uploading = true;\n      let config = {\n        headers: { \"Content-Type\": \"multipart/form-data\" }\n      };\n      console.log(config);\n      // axios.post(\"http://139.9.160.24/save_excel/\", formData, config);\n      request.request({\n      url:'http://139.9.160.24/save_excel/',\n      method: 'post',\n      data: formData,\n      headers: { \"Content-Type\": \"multipart/form-data\" }\n      }).then(res =>{\n        console.log(res);\n        alert(res.data.msg)\n        this.uploading = false;\n      }).catch(err =>{\n        console.log(err);\n      })\n    },\n    downloadModel(){\n      window.open(this.filePath + this.fileName)\n    },\n  },\n  created () {\n    this.handleChange(this.batchType)\n  }\n};\n</script>\n\n<style>\n\n.bottomUpload{\n    position: absolute;\n    bottom: 50px;\n    right: 50px;\n}\n\n.fileChoice{\n    position: absolute;\n    top: 305px;\n    left: 50px;\n}\n\n.fileDownload{\n    position: absolute;\n    top: 180px;\n    left: 50px;\n}\n\n.typeChoice{\n    position: absolute;\n    top: 80px;\n    left: 50px;\n}\n\n.typeChoiceTitle{\n    position: absolute;\n    top: 30px;\n    left: 50px;\n}\n\n</style>"]}]}