{"remainingRequest":"/Users/macbookpro/Documents/hr-manage/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!/Users/macbookpro/Documents/hr-manage/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!/Users/macbookpro/Documents/hr-manage/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!/Users/macbookpro/Documents/hr-manage/src/components/batchControl/BatchInput.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macbookpro/Documents/hr-manage/src/components/batchControl/BatchInput.vue","mtime":1646980792000},{"path":"/Users/macbookpro/Documents/hr-manage/babel.config.js","mtime":1609225489041},{"path":"/Users/macbookpro/Documents/hr-manage/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbookpro/Documents/hr-manage/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macbookpro/Documents/hr-manage/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbookpro/Documents/hr-manage/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvbWFjYm9va3Byby9Eb2N1bWVudHMvaHItbWFuYWdlL25vZGVfbW9kdWxlcy9fQGJhYmVsX3J1bnRpbWVANy4xNy4yQEBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgKiBhcyByZXF1ZXN0IGZyb20gIi4uLy4uL25ldHdvcmsvcmVxdWVzdCI7IC8vIGltcG9ydCBheGlvcyBmcm9tICdheGlvcycKLy8gaW1wb3J0IHJlcXdlc3QgZnJvbSAncmVxd2VzdCc7CgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZpbGVMaXN0OiBbXSwKICAgICAgdXBsb2FkaW5nOiBmYWxzZSwKICAgICAgZXhjZWxUeXBlOiAnQXBwbGljYW50SW5mbycsCiAgICAgIGZpbGVOYW1lOiAnJywKICAgICAgZmlsZVBhdGg6ICdodHRwOi8vMTM5LjkuMTYwLjI0L3N0YXRpYy9tb2RlbC8nLAogICAgICBpc0Rpc2FibGVkOiB0cnVlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UodmFsdWUpIHsKICAgICAgdGhpcy5pc0Rpc2FibGVkID0gZmFsc2U7CiAgICAgIHRoaXMuZXhjZWxUeXBlID0gIiIuY29uY2F0KHZhbHVlKTsKCiAgICAgIGlmICh2YWx1ZSA9PT0gJ0FwcGxpY2FudEluZm8nKSB7CiAgICAgICAgdGhpcy5maWxlTmFtZSA9ICflgJnpgInkurrmqKHniYgueGxzeCc7CiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09ICdQcm9qZWN0SW5mbycpIHsKICAgICAgICB0aGlzLmZpbGVOYW1lID0gJ+mhueebruS/oeaBr+aooeeJiC54bHN4JzsKICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJ1Byb2plY3RTdGF0dXNJbmZvJykgewogICAgICAgIHRoaXMuZmlsZU5hbWUgPSAn6aG555uu5ruh6Laz5bqm5qih54mILnhsc3gnOwogICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnUmVjcnVpdG1lbnRJbmZvJykgewogICAgICAgIHRoaXMuZmlsZU5hbWUgPSAn5oub6IGY6ZyA5rGC5qih54mILnhsc3gnOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlUmVtb3ZlOiBmdW5jdGlvbiBoYW5kbGVSZW1vdmUoZmlsZSkgewogICAgICB2YXIgaW5kZXggPSB0aGlzLmZpbGVMaXN0LmluZGV4T2YoZmlsZSk7CiAgICAgIHZhciBuZXdGaWxlTGlzdCA9IHRoaXMuZmlsZUxpc3Quc2xpY2UoKTsKICAgICAgbmV3RmlsZUxpc3Quc3BsaWNlKGluZGV4LCAxKTsKICAgICAgdGhpcy5maWxlTGlzdCA9IG5ld0ZpbGVMaXN0OwogICAgfSwKICAgIGJlZm9yZVVwbG9hZDogZnVuY3Rpb24gYmVmb3JlVXBsb2FkKGZpbGUpIHsKICAgICAgdGhpcy5maWxlTGlzdCA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5maWxlTGlzdCksIFtmaWxlXSk7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCiAgICBoYW5kbGVVcGxvYWQ6IGZ1bmN0aW9uIGhhbmRsZVVwbG9hZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGNvbnNvbGUubG9nKHRoaXMpOyAvLyBjb25zdCB7IGZpbGVMaXN0IH0gPSB0aGlzOwoKICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIHRoaXMuZmlsZUxpc3RbMF0pOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ3R5cGUnLCB0aGlzLmV4Y2VsVHlwZSk7CiAgICAgIHRoaXMudXBsb2FkaW5nID0gdHJ1ZTsKICAgICAgdmFyIGNvbmZpZyA9IHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAiQ29udGVudC1UeXBlIjogIm11bHRpcGFydC9mb3JtLWRhdGEiCiAgICAgICAgfQogICAgICB9OwogICAgICBjb25zb2xlLmxvZyhjb25maWcpOyAvLyBheGlvcy5wb3N0KCJodHRwOi8vMTM5LjkuMTYwLjI0L3NhdmVfZXhjZWwvIiwgZm9ybURhdGEsIGNvbmZpZyk7CgogICAgICByZXF1ZXN0LnJlcXVlc3QoewogICAgICAgIHVybDogJ2h0dHA6Ly8xMzkuOS4xNjAuMjQvc2F2ZV9leGNlbC8nLAogICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgIGRhdGE6IGZvcm1EYXRhLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICJDb250ZW50LVR5cGUiOiAibXVsdGlwYXJ0L2Zvcm0tZGF0YSIKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgYWxlcnQocmVzLmRhdGEubXNnKTsKICAgICAgICBfdGhpcy51cGxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pOwogICAgfSwKICAgIGRvd25sb2FkTW9kZWw6IGZ1bmN0aW9uIGRvd25sb2FkTW9kZWwoKSB7CiAgICAgIHdpbmRvdy5vcGVuKHRoaXMuZmlsZVBhdGggKyB0aGlzLmZpbGVOYW1lKTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA,iD,CACA;AACA;;AACA;AACAA,MADA,kBACA;AACA;AACAC,kBADA;AAEAC,sBAFA;AAGAC,gCAHA;AAIAC,kBAJA;AAKAC,mDALA;AAMAC;AANA;AAQA,GAVA;AAWAC;AACAC,gBADA,wBACAC,KADA,EACA;AACA;AACA;;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAbA;AAcAC,gBAdA,wBAcAC,IAdA,EAcA;AACA;AACA;AACAC;AACA;AACA,KAnBA;AAoBAC,gBApBA,wBAoBAF,IApBA,EAoBA;AACA;AACA;AACA,KAvBA;AAwBAG,gBAxBA,0BAwBA;AAAA;;AACAC,wBADA,CAEA;;AACA;AACAC;AACAA;AACA;AACA;AACAC;AAAA;AAAA;AADA;AAGAF,0BAVA,CAWA;;AACAG;AACAC,8CADA;AAEAC,sBAFA;AAGApB,sBAHA;AAIAiB;AAAA;AAAA;AAJA,SAKAI,IALA,CAKA;AACAN;AACAO;AACA;AACA,OATA,EASAC,KATA,CASA;AACAR;AACA,OAXA;AAYA,KAhDA;AAiDAS,iBAjDA,2BAiDA;AACAC;AACA;AAnDA;AAXA","names":["data","fileList","uploading","excelType","fileName","filePath","isDisabled","methods","handleChange","value","handleRemove","file","newFileList","beforeUpload","handleUpload","console","formData","headers","request","url","method","then","alert","catch","downloadModel","window"],"sourceRoot":"src/components/batchControl","sources":["BatchInput.vue"],"sourcesContent":["<template>\n  <div class=\"clearfix\">\n     <a-select placeholder=\"选择导入表格类型\" style=\"width: 400px\" @change=\"handleChange\" class=\"typeChoice\">\n      <a-select-option value=\"ApplicantInfo\">\n        候选人管理\n      </a-select-option>\n      <a-select-option value=\"ProjectInfo\">\n        项目信息\n      </a-select-option>\n      <a-select-option value=\"ProjectStatusInfo\">\n        项目满足度\n      </a-select-option>\n      <a-select-option value=\"RecruitmentInfo\">\n        招聘需求\n      </a-select-option>\n    </a-select>\n    <div class=\"fileDownload\">\n      <p v-if=\"isDisabled\" style=\"color:red;\">请选择下载模版</p>\n      <a-button :disabled=\"isDisabled\" @click=\"downloadModel\">下载{{fileName}}</a-button>\n    </div>\n    <a-upload :fileList=\"fileList\" :remove=\"handleRemove\" :beforeUpload=\"beforeUpload\" class=\"fileChoice\">\n      <a-button> <a-icon type=\"upload\" /> 选择导入文件 </a-button>\n    </a-upload>\n    <a-button\n      type=\"primary\"\n      @click=\"handleUpload\"\n      :disabled=\"fileList.length === 0\"\n      :loading=\"uploading\"\n      style=\"\n        position: absolute;\n        bottom: 50px;\n        right: 50px;\"\n    >\n      {{ uploading ? 'Uploading' : 'Start Upload' }}\n    </a-button>\n  </div>\n</template>\n<script>\nimport * as request from \"../../network/request\"\n// import axios from 'axios'\n// import reqwest from 'reqwest';\nexport default {\n  data() {\n    return {\n      fileList: [],\n      uploading: false,\n      excelType: 'ApplicantInfo',\n      fileName: '',\n      filePath:'http://139.9.160.24/static/model/',\n      isDisabled: true\n    };\n  },\n  methods: {\n    handleChange(value) {\n      this.isDisabled = false\n      this.excelType = `${value}`;\n      if (value === 'ApplicantInfo') {\n        this.fileName = '候选人模版.xlsx'\n      } else if (value === 'ProjectInfo') {\n        this.fileName = '项目信息模版.xlsx'        \n      } else if (value === 'ProjectStatusInfo') {\n        this.fileName = '项目满足度模版.xlsx'        \n      } else if (value === 'RecruitmentInfo') {\n        this.fileName = '招聘需求模版.xlsx'        \n      }\n    },\n    handleRemove(file) {\n      const index = this.fileList.indexOf(file);\n      const newFileList = this.fileList.slice();\n      newFileList.splice(index, 1);\n      this.fileList = newFileList;\n    },\n    beforeUpload(file) {\n      this.fileList = [...this.fileList, file];\n      return false;\n    },\n    handleUpload() {\n      console.log(this);\n      // const { fileList } = this;\n      const formData = new FormData();\n      formData.append('file',this.fileList[0]);\n      formData.append('type',this.excelType);\n      this.uploading = true;\n      let config = {\n        headers: { \"Content-Type\": \"multipart/form-data\" }\n      };\n      console.log(config);\n      // axios.post(\"http://139.9.160.24/save_excel/\", formData, config);\n      request.request({\n      url:'http://139.9.160.24/save_excel/',\n      method: 'post',\n      data: formData,\n      headers: { \"Content-Type\": \"multipart/form-data\" }\n      }).then(res =>{\n        console.log(res);\n        alert(res.data.msg)\n        this.uploading = false;\n      }).catch(err =>{\n        console.log(err);\n      })\n    },\n    downloadModel(){\n      window.open(this.filePath + this.fileName)\n    }\n  },\n};\n</script>\n\n<style>\n\n.bottomUpload{\n    position: absolute;\n    bottom: 50px;\n    right: 50px;\n}\n\n.fileChoice{\n    position: absolute;\n    top: 275px;\n    left: 50px;\n}\n\n.fileDownload{\n    position: absolute;\n    top: 150px;\n    left: 50px;\n}\n\n.typeChoice{\n    position: absolute;\n    top: 50px;\n    left: 50px;\n}\n\n</style>"]}]}