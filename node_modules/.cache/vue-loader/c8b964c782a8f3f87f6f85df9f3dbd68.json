{"remainingRequest":"/Users/macbookpro/Documents/hr-manage/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!/Users/macbookpro/Documents/hr-manage/src/components/batchControl/BatchOutput.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macbookpro/Documents/hr-manage/src/components/batchControl/BatchOutput.vue","mtime":1648882808981},{"path":"/Users/macbookpro/Documents/hr-manage/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbookpro/Documents/hr-manage/node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbookpro/Documents/hr-manage/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macbookpro/Documents/hr-manage/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbookpro/Documents/hr-manage/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIHJlcXVlc3QgZnJvbSAiLi4vLi4vbmV0d29yay9yZXF1ZXN0IgovLyBpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnCi8vIGltcG9ydCByZXF3ZXN0IGZyb20gJ3JlcXdlc3QnOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIGJhdGNoVHlwZTogewogICAgICB0eXBlOiBTdHJpbmcKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmaWxlTGlzdDogW10sCiAgICAgIGJhdGNoVHlwZU5hbWU6ICcnCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0RmlsZUxpc3QoKSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMpOwogICAgICByZXF1ZXN0LnJlcXVlc3QoewogICAgICB1cmw6J2h0dHA6Ly8xMzkuOS4xNjAuMjQvZ2V0X2ZpbGVfbGlzdC8nLAogICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgZGF0YToge2JhdGNoVHlwZTogdGhpcy5iYXRjaFR5cGV9LAogICAgICBoZWFkZXJzOiB7ICJDb250ZW50LVR5cGUiOiAibXVsdGlwYXJ0L2Zvcm0tZGF0YSIgfQogICAgICB9KS50aGVuKHJlcyA9PnsKICAgICAgICB0aGlzLmZpbGVMaXN0ID0gcmVzLmRhdGEuZmlsZUxpc3QKICAgICAgfSkuY2F0Y2goZXJyID0+ewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pCiAgICB9LAogICAgbmV3RG93bmxvYWRFeGNlbCgpIHsKICAgICAgY29uc29sZS5sb2codGhpcyk7CiAgICAgIHJlcXVlc3QucmVxdWVzdCh7CiAgICAgIHVybDonaHR0cDovLzEzOS45LjE2MC4yNC9uZXdfZG93bmxvYWRfZXhjZWwvJywKICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgIGRhdGE6IHtiYXRjaFR5cGU6IHRoaXMuYmF0Y2hUeXBlfSwKICAgICAgaGVhZGVyczogeyAiQ29udGVudC1UeXBlIjogIm11bHRpcGFydC9mb3JtLWRhdGEiIH0KICAgICAgfSkudGhlbihyZXMgPT57CiAgICAgICAgdGhpcy5maWxlTGlzdC51bnNoaWZ0KHJlcy5kYXRhLmZpbGVJbmZvKQogICAgICB9KS5jYXRjaChlcnIgPT57CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgfSkKICAgIH0sCiAgICBkb3duTG9hZChpbmRleCwgcm93cykgewogICAgICB3aW5kb3cub3Blbih0aGlzLmJhc2VVcmwgKyByb3dzW2luZGV4XS5wYXRoKQogICAgfSwKICAgIGNsb3NlKCkgewogICAgIHRoaXMuJGVtaXQoJ2Nsb3NlJykKICAgIH0sCiAgICBoYW5kbGVDaGFuZ2UodmFsdWUpIHsKICAgICAgaWYgKHZhbHVlID09PSAnQXBwbGljYW50SW5mbycpIHsKICAgICAgICB0aGlzLmJhdGNoVHlwZU5hbWUgPSAn5YCZ6YCJ5Lq6JwogICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnUHJvamVjdEluZm8nKSB7ICAKICAgICAgICB0aGlzLmJhdGNoVHlwZU5hbWUgPSAn6aG555uu5L+h5oGvJyAgICAKICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJ1Byb2plY3RTdGF0dXNJbmZvJykgewogICAgICAgIHRoaXMuYmF0Y2hUeXBlTmFtZSA9ICfpobnnm67mu6HotrPluqYnICAgICAgCiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09ICdSZWNydWl0bWVudEluZm8nKSB7CiAgICAgICAgdGhpcy5iYXRjaFR5cGVOYW1lID0gJ+aLm+iBmOmcgOaxgicgICAgICAKICAgICAgfQogICAgfSwKICB9LAogIGNyZWF0ZWQgKCkgewogICAgdGhpcy5iYXNlVXJsID0gdGhpcy5nZXRCYXNlVXJsKCkKICAgIHRoaXMuZ2V0RmlsZUxpc3QoKQogICAgdGhpcy5oYW5kbGVDaGFuZ2UodGhpcy5iYXRjaFR5cGUpCiAgfQp9Owo="},{"version":3,"sources":["BatchOutput.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BatchOutput.vue","sourceRoot":"src/components/batchControl","sourcesContent":["<template>\n  <div>\n    <h3 style=\"margin: 20px;\">{{batchTypeName}}-已生成导出文件</h3>\n    <el-table\n      :data=\"fileList\"\n      style=\"width: 80%\n      margin-top:10px;\n      margin-left:20px\"\n      max-height=\"270\">\n      <el-table-column\n        fixed\n        prop=\"name\"\n        label=\"文件名称\"\n        width='500px'>\n      </el-table-column>\n      <el-table-column\n        fixed\n        prop=\"msg\"\n        label=\"大小\"\n        width='300px'>\n      </el-table-column>\n      <el-table-column\n        fixed=\"right\"\n        label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button\n            @click.native.prevent=\"downLoad(scope.$index, fileList)\"\n            type=\"text\"\n            size=\"small\">\n            下载\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <a-button class=\"batchOutButtom\" @click=\"newDownloadExcel\">导出新文件</a-button>\n    <a-button class=\"batchOutCancel\" @click=\"close\">取消</a-button>\n  </div>\n</template>\n<script>\nimport * as request from \"../../network/request\"\n// import axios from 'axios'\n// import reqwest from 'reqwest';\nexport default {\n  props: {\n    batchType: {\n      type: String\n    }\n  },\n  data() {\n    return {\n      fileList: [],\n      batchTypeName: ''\n    };\n  },\n  methods: {\n    getFileList() {\n      console.log(this);\n      request.request({\n      url:'http://139.9.160.24/get_file_list/',\n      method: 'post',\n      data: {batchType: this.batchType},\n      headers: { \"Content-Type\": \"multipart/form-data\" }\n      }).then(res =>{\n        this.fileList = res.data.fileList\n      }).catch(err =>{\n        console.log(err);\n      })\n    },\n    newDownloadExcel() {\n      console.log(this);\n      request.request({\n      url:'http://139.9.160.24/new_download_excel/',\n      method: 'post',\n      data: {batchType: this.batchType},\n      headers: { \"Content-Type\": \"multipart/form-data\" }\n      }).then(res =>{\n        this.fileList.unshift(res.data.fileInfo)\n      }).catch(err =>{\n        console.log(err);\n      })\n    },\n    downLoad(index, rows) {\n      window.open(this.baseUrl + rows[index].path)\n    },\n    close() {\n     this.$emit('close')\n    },\n    handleChange(value) {\n      if (value === 'ApplicantInfo') {\n        this.batchTypeName = '候选人'\n      } else if (value === 'ProjectInfo') {  \n        this.batchTypeName = '项目信息'    \n      } else if (value === 'ProjectStatusInfo') {\n        this.batchTypeName = '项目满足度'      \n      } else if (value === 'RecruitmentInfo') {\n        this.batchTypeName = '招聘需求'      \n      }\n    },\n  },\n  created () {\n    this.baseUrl = this.getBaseUrl()\n    this.getFileList()\n    this.handleChange(this.batchType)\n  }\n};\n</script>\n\n<style>\n.batchOutButtom {\n  position: absolute;\n  bottom: 30px;\n  right: 170px;\n}\n\n.batchOutCancel {\n  position: absolute;\n  bottom: 30px;\n  right: 60px;\n}\n\n</style>"]}]}