{"remainingRequest":"/Users/macbookpro/Documents/hr-manage/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!/Users/macbookpro/Documents/hr-manage/src/components/batchControl/BatchOutput.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macbookpro/Documents/hr-manage/src/components/batchControl/BatchOutput.vue","mtime":1653559126436},{"path":"/Users/macbookpro/Documents/hr-manage/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbookpro/Documents/hr-manage/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/macbookpro/Documents/hr-manage/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbookpro/Documents/hr-manage/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIHJlcXVlc3QgZnJvbSAiLi4vLi4vbmV0d29yay9yZXF1ZXN0IgovLyBpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnCi8vIGltcG9ydCByZXF3ZXN0IGZyb20gJ3JlcXdlc3QnOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIGJhdGNoVHlwZTogewogICAgICB0eXBlOiBTdHJpbmcKICAgIH0sCiAgICBzZWxlY3REYXRlOiB7CiAgICAgIHR5cGU6IFN0cmluZwogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZpbGVMaXN0OiBbXSwKICAgICAgYmF0Y2hUeXBlTmFtZTogJycKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRGaWxlTGlzdCgpIHsKICAgICAgY29uc29sZS5sb2codGhpcyk7CiAgICAgIHJlcXVlc3QucmVxdWVzdCh7CiAgICAgIHVybDogdGhpcy5nZXRCYXNlVXJsKCkgKyAnZ2V0X2ZpbGVfbGlzdC8nLAogICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgZGF0YTogewogICAgICAgIGJhdGNoVHlwZTogdGhpcy5iYXRjaFR5cGUsCiAgICAgICAgdXNlck5hbWU6IHRoaXMuJGNvb2tpZXMuZ2V0KCJuaWNrbmFtZSIpCiAgICAgIH0sCiAgICAgIGhlYWRlcnM6IHsgIkNvbnRlbnQtVHlwZSI6ICJtdWx0aXBhcnQvZm9ybS1kYXRhIiB9CiAgICAgIH0pLnRoZW4ocmVzID0+ewogICAgICAgIHRoaXMuZmlsZUxpc3QgPSByZXMuZGF0YS5maWxlTGlzdAogICAgICB9KS5jYXRjaChlcnIgPT57CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgfSkKICAgIH0sCiAgICBuZXdEb3dubG9hZEV4Y2VsKCkgewogICAgICBjb25zb2xlLmxvZyh0aGlzLnNlbGVjdERhdGUpOwogICAgICByZXF1ZXN0LnJlcXVlc3QoewogICAgICB1cmw6IHRoaXMuZ2V0QmFzZVVybCgpICsgJ25ld19kb3dubG9hZF9leGNlbC8nLAogICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgZGF0YTogewogICAgICAgIGJhdGNoVHlwZTogdGhpcy5iYXRjaFR5cGUsCiAgICAgICAgZmlsdGVyUmVnaW9uOiB0aGlzLiRjb29raWVzLmdldCgicmVnaW9uIiksCiAgICAgICAgc2VsZWN0RGF0ZTogdGhpcy5zZWxlY3REYXRlLAogICAgICAgIHVzZXJOYW1lOiB0aGlzLiRjb29raWVzLmdldCgibmlja25hbWUiKQogICAgICB9LAogICAgICBoZWFkZXJzOiB7ICJDb250ZW50LVR5cGUiOiAibXVsdGlwYXJ0L2Zvcm0tZGF0YSIgfQogICAgICB9KS50aGVuKHJlcyA9PnsKICAgICAgICB0aGlzLmZpbGVMaXN0LnVuc2hpZnQocmVzLmRhdGEuZmlsZUluZm8pCiAgICAgIH0pLmNhdGNoKGVyciA9PnsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KQogICAgfSwKICAgIGRvd25Mb2FkKGluZGV4LCByb3dzKSB7CiAgICAgIHdpbmRvdy5vcGVuKHRoaXMuYmFzZVVybCArIHJvd3NbaW5kZXhdLnBhdGgpCiAgICB9LAogICAgY2xvc2UoKSB7CiAgICAgdGhpcy4kZW1pdCgnY2xvc2UnKQogICAgfSwKICAgIGhhbmRsZUNoYW5nZSh2YWx1ZSkgewogICAgICBpZiAodmFsdWUgPT09ICdBcHBsaWNhbnRJbmZvJykgewogICAgICAgIHRoaXMuYmF0Y2hUeXBlTmFtZSA9ICflgJnpgInkuronCiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09ICdQcm9qZWN0SW5mbycpIHsgIAogICAgICAgIHRoaXMuYmF0Y2hUeXBlTmFtZSA9ICfpobnnm67kv6Hmga8nICAgIAogICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnUHJvamVjdFN0YXR1c0luZm8nKSB7CiAgICAgICAgdGhpcy5iYXRjaFR5cGVOYW1lID0gJ+mhueebrua7oei2s+W6picgICAgICAKICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJ1JlY3J1aXRtZW50SW5mbycpIHsKICAgICAgICB0aGlzLmJhdGNoVHlwZU5hbWUgPSAn5oub6IGY6ZyA5rGCJyAgICAgIAogICAgICB9CiAgICB9LAogIH0sCiAgY3JlYXRlZCAoKSB7CiAgICB0aGlzLmJhc2VVcmwgPSB0aGlzLmdldEJhc2VVcmwoKQogICAgdGhpcy5nZXRGaWxlTGlzdCgpCiAgICB0aGlzLmhhbmRsZUNoYW5nZSh0aGlzLmJhdGNoVHlwZSkKICB9Cn07Cg=="},{"version":3,"sources":["BatchOutput.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BatchOutput.vue","sourceRoot":"src/components/batchControl","sourcesContent":["<template>\n  <div>\n    <h3 style=\"margin: 20px;\">{{batchTypeName}}-已生成导出文件</h3>\n    <el-table\n      :data=\"fileList\"\n      style=\"width: 80%\n      margin-top:10px;\n      margin-left:20px\"\n      max-height=\"270\">\n      <el-table-column\n        fixed\n        prop=\"name\"\n        label=\"文件名称\"\n        width='500px'>\n      </el-table-column>\n      <el-table-column\n        fixed\n        prop=\"msg\"\n        label=\"大小\"\n        width='300px'>\n      </el-table-column>\n      <el-table-column\n        fixed=\"right\"\n        label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button\n            @click.native.prevent=\"downLoad(scope.$index, fileList)\"\n            type=\"text\"\n            size=\"small\">\n            下载\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <a-button class=\"batchOutButtom\" @click=\"newDownloadExcel\">导出新文件</a-button>\n    <a-button class=\"batchOutCancel\" @click=\"close\">取消</a-button>\n  </div>\n</template>\n<script>\nimport * as request from \"../../network/request\"\n// import axios from 'axios'\n// import reqwest from 'reqwest';\nexport default {\n  props: {\n    batchType: {\n      type: String\n    },\n    selectDate: {\n      type: String\n    }\n  },\n  data() {\n    return {\n      fileList: [],\n      batchTypeName: ''\n    };\n  },\n  methods: {\n    getFileList() {\n      console.log(this);\n      request.request({\n      url: this.getBaseUrl() + 'get_file_list/',\n      method: 'post',\n      data: {\n        batchType: this.batchType,\n        userName: this.$cookies.get(\"nickname\")\n      },\n      headers: { \"Content-Type\": \"multipart/form-data\" }\n      }).then(res =>{\n        this.fileList = res.data.fileList\n      }).catch(err =>{\n        console.log(err);\n      })\n    },\n    newDownloadExcel() {\n      console.log(this.selectDate);\n      request.request({\n      url: this.getBaseUrl() + 'new_download_excel/',\n      method: 'post',\n      data: {\n        batchType: this.batchType,\n        filterRegion: this.$cookies.get(\"region\"),\n        selectDate: this.selectDate,\n        userName: this.$cookies.get(\"nickname\")\n      },\n      headers: { \"Content-Type\": \"multipart/form-data\" }\n      }).then(res =>{\n        this.fileList.unshift(res.data.fileInfo)\n      }).catch(err =>{\n        console.log(err);\n      })\n    },\n    downLoad(index, rows) {\n      window.open(this.baseUrl + rows[index].path)\n    },\n    close() {\n     this.$emit('close')\n    },\n    handleChange(value) {\n      if (value === 'ApplicantInfo') {\n        this.batchTypeName = '候选人'\n      } else if (value === 'ProjectInfo') {  \n        this.batchTypeName = '项目信息'    \n      } else if (value === 'ProjectStatusInfo') {\n        this.batchTypeName = '项目满足度'      \n      } else if (value === 'RecruitmentInfo') {\n        this.batchTypeName = '招聘需求'      \n      }\n    },\n  },\n  created () {\n    this.baseUrl = this.getBaseUrl()\n    this.getFileList()\n    this.handleChange(this.batchType)\n  }\n};\n</script>\n\n<style>\n.batchOutButtom {\n  position: absolute;\n  bottom: 30px;\n  right: 170px;\n}\n\n.batchOutCancel {\n  position: absolute;\n  bottom: 30px;\n  right: 60px;\n}\n\n</style>"]}]}